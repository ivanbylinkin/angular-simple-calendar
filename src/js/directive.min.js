angular.module("simpleCalendar",[]).directive("simpleCalendar",function(){return{templateUrl:"templates/simpleCalTemplate.html",scope:{startDate:"=?startDate",endDate:"=?endDate",numberOfWeeks:"=?numberOfWeeks"},link:function(t,e){function a(e,a){var n=new Date(e);t.weeks.length=0;for(var D=0;a>D;D++){for(var r={days:[]},o=0;7>o;o++)r.days.push(new Date(n)),n.setDate(n.getDate()+1);t.weeks.push(r)}}e.addClass("simple-calendar");var n=null,D=null;t.today=new Date,t.month=new Date(t.today),t.weeks=[];var r=new Date(t.today);r.setDate(-r.getDay()+1),t.numberOfWeeks||(t.numberOfWeeks=6),a(r,t.numberOfWeeks),t.next=function(){t.month.setMonth(t.month.getMonth()+1),r=new Date(t.month),r.setDate(-r.getDay()+1),a(r,t.numberOfWeeks)},t.previous=function(){t.month.setMonth(t.month.getMonth()-1),r=new Date(t.month),r.setDate(-r.getDay()+1),a(r,t.numberOfWeeks)},t.isToday=function(e){return e.toDateString()==t.today.toDateString()};var o=null;t.selectDateRange=function(e){"Start Date"==o?e<t.startDate?(t.startDate=e,o="Start Date"):(t.endDate=e,o="End Date"):(t.startDate=e,e>t.endDate&&(t.endDate=null),o="Start Date")},t.isStartDate=function(e){return t.startDate?e.toDateString()==t.startDate.toDateString():!1},t.isEndDate=function(e){return t.endDate?e.toDateString()==t.endDate.toDateString():!1},t.isBetween=function(e){return t.startDate&&e.toDateString()==t.startDate.toDateString()?!1:t.endDate&&e.toDateString()==t.endDate.toDateString()?!1:t.startDate&&t.endDate?e>=t.startDate&&e<=t.endDate:!1},t.reset=function(){o="End Date",t.startDate=new Date(n),t.endDate=new Date(D),t.month=new Date(t.today),r=new Date(t.month),r.setDate(-r.getDay()+1),a(r,t.numberOfWeeks)},t.$watch("startDate",function(e){e&&new Date(t.startDateStandard).toDateString()!=e.toDateString()&&(t.startDateStandard=e.toStandardForm()),t.startDate&&!n&&(n=new Date(t.startDate))}),t.$watch("endDate",function(e){e&&new Date(t.endDateStandard).toDateString()!=e.toDateString()&&(t.endDateStandard=e.toStandardForm()),t.endDate&&!D&&(D=new Date(t.endDate))}),t.$watch("startDateStandard",function(e){e&&new Date(e).toDateString()!=t.startDate.toDateString()&&(t.startDate=new Date(e))}),t.$watch("endDateStandard",function(e){e&&new Date(e).toDateString()!=t.endDate.toDateString()&&(t.endDate=new Date(e))})}}}),Date.prototype.toStandardForm||(Date.prototype.toStandardForm=function(){return this.getUTCMonth()+1+"/"+this.getUTCDate()+"/"+this.getUTCFullYear()});
